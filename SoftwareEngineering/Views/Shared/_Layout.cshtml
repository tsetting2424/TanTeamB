<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="../../Scripts/EventBroker.js" type="text/javascript"></script>
        

        <meta charset="utf-8" />
        <title>@ViewBag.Title</title>
        <meta name="viewport" content="width=device-width" />
        @Styles.Render("~/Content/mobileCss", "~/Content/css")
        @Scripts.Render("~/bundles/modernizr")
        @Scripts.Render("~/bundles/jqueryval")
        @Scripts.Render("~/bundles/jquery", "~/bundles/jquerymobile")
        @RenderSection("scripts", required: false)

        <script type="text/javascript">

            function getPartialResultFromExternal(sender, eventargs) {
                alert(eventargs.URL + "," + eventargs.Container);
                $.get('/Home/GetView', { URL: eventargs.URL }, function (data) {
                    alert(data);
                    $('#' + eventargs.Container).html(data);
                    if (eventargs.Callback) {
                        eventargs.Callback(sender, eventargs);
                    }
                });
            }
                
              EB.SubscribeEvent("get", "page", getPartialResultFromExternal);

       </script>
    </head>
    <body>
            <div data-role="header">
                @if (IsSectionDefined("Header")) {
                    @RenderSection("Header")
                } 
            </div>
        <div  data-role="page" data-theme="e">
            <div id="main" data-role="content">
                @RenderBody()
                
            </div>
        </div>

       
    </body>
</html>
